# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

Используемый паттерн проектирования
Проект реализован на основе паттерна MVP. Взаимодействие между Моделью и Представлением реализовано через события пользователя.

Основные классы и их назначение

1.Модели (Model)
Класс: ProductModel
Отвечает за управление данными товаров в каталоге.
Поля:
private products: Product[] — список всех товаров.
Методы:
getProductById(id: string): Product | undefined — возвращает товар по его идентификатору.
setProducts(products: Product[]): void — метод для сохранения данных в модель.
getProducts(): Product[] — метод, который возвращает все товары из модели.

Класс CartModel
Описание: Управляет данными корзины.
Поля:
private cartItems: CartItem[] — список товаров в корзине.
Методы:
addItem(product: Product): void — добавляет товар в корзину.
removeItem(productId: string): void — удаляет товар из корзины.
getItems(): CartItem[] — возвращает список товаров в корзине.

Класс OrderModel
Описание: Управляет данными заказа.
Поля:
private orderData: Order | null — данные текущего заказа.
Методы:
createOrder(order: Order): void — сохраняет данные нового заказа.
clearOrder(): void — очищает данные текущего заказа.

2. Представление (View)

Класс CatalogView
Описание: Отображает список товаров.
Методы:
render(products: Product[]): void — отображает список товаров.
onProductClick(handler: (productId: string) => void): void — связывает обработчик события клика на карточку товара.

Класс CartView
Описание:Отображает добавленные товары и обрабатывает взаимодействия с корзиной.
Методы:
render(cartItems: CartItem[]): void — отображает товары в корзине.
onCartInteraction(handler: (event: Event) => void): void - обрабатывает взаимодействия с корзиной.

Класс ModalView
Описание: Управляет отображением модальных окон.
Методы:
show(content: string): void — показывает модальное окно.
hide(): void — скрывает модальное окно.

Класс ProductDetailView
Описание: Для отображения подробной информации о продукте. Он будет показывать разные данные о продукте, такие как название, описание, цену и другие характеристики.
Методы:
render(product: Product): void — отображает информацию о продукте (название, описание, цена и т. д.).
onAddToCart(handler: (productId: string) => void): void — связывает обработчик добавления товара в корзину.

Класс AddressFormView
Описание: Форма для ввода адреса покупателя. Покупатель должен будет ввести свой адрес доставки и выбрать способ оплаты.
Методы:
render(): string — генерирует разметку для формы ввода адреса и выбора способа оплаты.
onSubmit(handler: (addressData: Address) => void): void — связывает обработчик отправки формы с данными пользователя.

Класс ContactFormView
Описание: Форма для ввода контактных данных покупателя. В эту форму покупатель должен ввести свой email и номер телефона.
Методы:
render(): string — генерирует разметку для формы ввода контактных данных.
onSubmit(handler: (contactData: Contact) => void): void — связывает обработчик отправки контактных данных.

Класс SuccessFormView
Описание: Формы, отображающий сообщение о том, что заказ был успешно оформлен. Эта форма будет просто показывать текстовое сообщение и, возможно, кнопку для возврата на главную страницу.
Методы:
render(): string — генерирует разметку для успешного сообщения о заказе.
onGoHome(handler: () => void): void — связывает обработчик перехода на главную страницу после оформления заказа.

3. Презентер (Presenter)

Класс CatalogPresenter
Описание: Связывает модели и представления.
Поля:
private model: ProductModel
private view: CatalogView
Методы:
init(): void — загружает данные и передаёт их в представление.
onProductClick(productId: string): void — обрабатывает клик на карточке товара.

Класс CartPresenter
Описание: Связывает корзину с моделью и представлением.
Поля:
private model: CartModel
private view: CartView
Методы:
init(): void — отображает текущее состояние корзины.
onAddToCart(productId: string): void — добавляет товар в корзину.
onRemoveFromCart(productId: string): void — удаляет товар из корзины.

Класс OrderPresenter
Описание: Связывает процесс оформления заказа с моделью и представлением.
Поля:
private model: OrderModel
private view: OrderView
Методы:
init(): void — инициализирует процесс оформления заказа.
onSubmitOrder(order: Order): void — сохраняет данные заказа и очищает корзину.

Взаимодействие между моделью и представлением будет реализовано с помощью события пользователя.
